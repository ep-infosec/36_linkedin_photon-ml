/*
 * Copyright 2017 LinkedIn Corp. All rights reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may obtain a
 * copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */

project.ext.avroMapReduceModifier = ''

def versionArgName = 'v'

subprojects {
  // Specify Jar versions here instead of within gradle.properties
  // This will provide overriding ability for internal builds
  tasks.withType(Jar) {
    version '1.0.0'
  }

  if (project.hasProperty(versionArgName)) {
    def version = project.getProperty(versionArgName)

    tasks.withType(Test) {
      onlyIf {
        getProject().getName().endsWith(version)
      }
    }
  }

  repositories {
    jcenter()
  }
}
